# **芳療問診系統**

## 系統概述

這是一個為專業芳療師打造的 SaaS 雲端服務，用於協助芳療師對客戶進行問診記錄與配方管理。每當芳療師為客戶解決問題並調配精油配方後，系統會留下該次服務紀錄，方便下次服務時參考。系統也會將每次所使用的配方進行彙整與保存，建立一套可查詢的配方資料庫。此系統適用於**個體戶芳療師**或**企業芳療團隊**，讓單人或多人的芳療師團隊都能有效管理客戶資料與服務記錄。

## 功能特色

### AI 智能配方建議

系統內建 AI 協助功能：芳療師在每次問診時輸入客戶當下的問題與症狀，AI 會結合客戶的基本資料與既有案例資料庫，提供精油配方建議清單。芳療師可以參考這些**個人化建議配方**，並將合適的精油項目一鍵加入此次配方表中。這些建議來自於事先準備的經典案例知識，以及系統上線後累積的實際問診案例，存放於向量資料庫中；AI 透過檢索相似案例，提出與當前情況相關的精油組合供參考。整體而言，AI 扮演的是助手角色，快速提供**可能有效的配方靈感**，最終決策仍由芳療師根據對客戶的專業判斷來做出，確保每項建議都符合客戶的實際需求。

### 客戶資料管理

系統會為每位客戶建立完整的個人資料檔案。**客戶以手機號碼作為識別帳號**，並記錄相關背景資訊，以便芳療師評估配方時參考：

* **基本資訊**：姓名、性別、聯絡電話、Email、生日等。
* **身體數據**：身高、體重。
* **健康狀況**：慢性病史、是否長期服藥、過敏紀錄，以及（若為女性）是否懷孕或哺乳中。

這些資料將集中保存在安全的資料庫中，方便芳療師在問診時快速查閱所有重要資訊（例如過敏史、既往病史等）。在專業醫療/健康管理軟體中，通常也會採用類似方式將客戶重要資訊（如過敏、用藥、生日等）集中管理於單一介面，以方便隨時查詢。未來，系統也會著重**個人資料保護**的法規遵循：雖然初期 MVP 並不實作完整的個資法規功能，但架構上會預留日後擴充的可能，例如資料加密、權限控管與使用者同意機制。當系統規模擴大或應用於醫療相關領域時，將確保符合相關法規（例如台灣的《個人資料保護法》或國際上的 HIPAA 等標準）來安全儲存和傳輸客戶資料。

### 問診記錄與配方紀錄系統

芳療師可在系統中對每次服務建立問診紀錄，內容包含：

* **本次主訴症狀**：記錄客戶此次前來諮詢的主要症狀或不適。例如：「失眠、焦慮情緒」等，以文字描述方式保存。必要時也可記錄血壓、心率等客觀數據。
* **症狀相關照片**：支援上傳照片功能（選填），例如皮膚過敏部位、傷口癒合情況等，用於輔助紀錄病症狀況（類似醫療紀錄中的圖像標記功能）。
* **本次精油配方**：詳細列出此次調配所使用的精油種類及滴數，以及基底油種類及用量。系統將自動計算該配方的稀釋濃度，方便芳療師確認濃度安全無誤。
* **生活建議**：芳療師針對客戶狀況提供的生活方式建議或後續保養方案，例如作息調整、飲食建議、居家芳香療法使用方法等。
* **歷史病例參考**：在記錄本次資訊的同時，系統介面會顯示該客戶**過去的問診紀錄摘要**，包括上次使用的配方以及**上次用油回饋**（客戶對前一次療程或配方的反應與反饋）。這讓芳療師在撰寫新紀錄時，可以方便地參考先前的效果如何，作為調整新配方的依據。

所有問診紀錄將與客戶資料相關聯並長期保存。芳療師日後可以透過客戶檔案查看完整的**服務歷程**（過往每次問診日期、主訴、所用配方及結果）。在問診紀錄列表中，系統也提供快速篩選與排序功能，例如依日期、依標籤（症狀分類）等查看歷史病例，協助芳療師快速定位目標紀錄。

### 標籤系統與搜尋功能

為了便於資料分類與檢索，系統支援**標籤（Tag）功能**和**文字搜尋**：

* 芳療師可為客戶或問診紀錄添加自訂標籤，例如依照症狀類型（如「失眠」、「緊張焦慮」）、身體部位（如「消化系統」、「呼吸系統」）或療程類型（如「舒壓按摩」、「孕婦保養」）等進行標記。未來可根據需要擴充多層級分類（如標籤樹狀結構）。
* 提供**即時搜尋**功能，可對客戶姓名、聯絡資訊以及問診紀錄中的文字內容進行模糊搜尋。芳療師可輸入關鍵字（例如「頭痛」或「薰衣草」），系統即時過濾出相關的客戶或紀錄，方便迅速調閱相關案例。文字搜尋引擎將考慮常見的同義詞或錯別字，增加搜尋的友善度。

透過標籤與搜尋的搭配，系統能夠在客戶量與紀錄量增多時仍保持**高可用性**：芳療師能以最少的操作找到所需資訊，提高工作效率。

### 帳號類型與權限管理

系統設計了兩種帳號模式，以因應不同規模的芳療業務：

* **個人帳號**：適用於個體戶芳療師。一個帳號即代表單一芳療師個人，其所建立的客戶資料與問診紀錄僅有本人可以訪問管理。這種帳號下數據完全私有。
* **企業帳號**：提供給有團隊的芳療工作室或公司使用。在企業帳號下，會有一個主帳號（管理者）以及多個從屬的芳療師子帳號。企業帳號具有以下特性:

  * **客戶資料共享**：同一企業內的芳療師對所有公司客戶資料擁有查看權限（除非被特別限制）。這樣當某位客戶由不同芳療師接手服務時，可延續查看該客戶的完整歷史紀錄，確保服務連貫。
  * **權限控制**：企業帳戶由管理員設定各使用者權限。例如，可定義某些芳療師只能查看/編輯自己經手的紀錄，而管理者可以查看所有紀錄；或者區分資料讀取與編輯權限等。後台應提供簡易介面讓管理員管理成員帳號、新增或移除芳療師、調整權限。
  * **後台管理**：企業帳號將擁有一個後台管理模組，用於公司層級的設定，如統一客戶資料的導入/匯出、檢視整體服務紀錄統計、設定公司偏好的AI建議參數等等。

這種多芳療師共用資料的機制只適用於企業帳號，確保資料共享僅在受控環境下進行；個人帳號的資料則完全獨立，保障個體芳療師的客戶隱私。

### 登入與身份驗證

系統提供方便且安全的登入方式：

1. **Google 一鍵登入**：使用 Google OAuth 帳戶進行登入，減少使用者記憶密碼的負擔。點擊 Google 登入後，若授權成功即自動建立或登入對應的芳療師帳戶。
2. **Email 帳號登入**：使用電子郵件註冊帳戶，透過設定密碼來登入。支援 Email 的驗證機制：新用戶註冊時系統發送驗證郵件確認信箱有效；當需要重設密碼時，系統透過註冊信箱發送重置連結以進行密碼修改。

整個登入流程將利用 Firebase Authentication 等現有雲端身份服務，確保通訊安全（透過 HTTPS）與資料庫中密碼的安全存儲（例如雜湊加鹽存放）。未來若需要也可加入手機OTP驗證、兩步驟驗證(2FA)等機制以增強安全性。

### 精油庫存與配方管理 (進階模組)

為協助芳療師管理手邊的精油資源，系統規劃了**精油庫存管理**與**配方資料庫**功能（作為進階模組，MVP 可視情況決定是否立即推出）：

* **精油庫存管理**：芳療師可以在系統中建立所擁有的每種精油的庫存清單，記錄內容包括：精油名稱、品牌/廠商、**批號**、**進貨或開瓶日期**、**保存期限**等，以及目前剩餘量。此功能類似市面上一些精油管理應用，讓使用者詳細紀錄擁有的精油以及存放位置、有效期限等資訊。每當在問診配方中使用了若干滴某種精油時，芳療師可在記錄配方的同時輸入使用量，系統將自動從庫存中扣減相應數量（可按**瓶**或**毫升**為單位扣減，亦可簡化為僅標記該瓶已開封）。庫存系統可以設定**庫存不足提醒**，例如某種精油剩餘量過低或即將過期時提醒補貨；也可匯出目前庫存清單及數量，方便盤點與採購。

* **配方管理**：系統會累積所有服務過的精油配方，形成配方資料庫。芳療師可以在資料庫中查找歷史配方、篩選特定症狀或精油組合，作為研發新配方或教學分享之用。系統亦可允許芳療師自行新增一些「經典配方」條目（不屬於任何單一客戶，而是一般場合適用的配方建議），這些配方可供AI學習參考或供其他使用者（在企業帳號內部）參考。未來若有需要，也可考慮加入**精油知識庫**或引用第三方的**精油效果資料**，例如提供每種精油的性質、適用症狀說明，作為配方調製的參考指南（這部分目前已有許多成熟資料，可透過連結參照或 API 取得）。總而言之，配方管理模組將協助芳療師累積自己的**經驗智慧庫**。

*(註：精油庫存與配方管理屬於進階功能，可在基本問診紀錄系統穩定後再行開放。企業用戶可能對此需求更高，可作為付費升級功能模組。)*

### PDF 報告生成

為提升專業度與便利性，系統支援將每次問診紀錄匯出為 **PDF 報告**：

* 芳療師完成電子紀錄後，可一鍵生成一份包含本次問診重點的 PDF 檔案。內容格式經過預先排版，包含公司/芳療師標誌、客戶姓名與問診日期、此次主訴與配方、使用說明及生活建議等資訊。
* PDF 報告可用於**列印**（提供給客戶留存或存入紙本檔案）或者直接**Email 給客戶**。這讓客戶在離開後也能拿到一份清晰的書面說明，方便在家按照建議使用芳香療法。
* 系統將允許針對報告內容做適度的**自訂**：例如企業帳號可設定報告上顯示公司的名稱與Logo，聯絡方式等；芳療師也可在生成PDF前增補一些個人備註。
* 報告生成功能在技術上透過前端或後端的 PDF 產生庫實現，確保中文字體及排版正確。此外，PDF 檔案可在系統中留存副本，以備日後查閱（同時遵循資安考量，例如PDF中不會暴露超出該次問診範圍的敏感資訊）。

### 使用介面與裝置支援

本系統採用\*\*RWD（響應式網頁設計）\*\*為主，前端以網頁應用形式呈現。這意味著無論使用者使用桌上型電腦、大型平板，還是手機等裝置，都可以透過瀏覽器存取系統，而介面會自動適應螢幕尺寸以提供良好的使用體驗。主要介面將以 Vue.js 實作單頁應用（SPA），提供流暢的操作體驗。

* **介面設計**：注重簡潔清晰，避免繁複的步驟。重要資訊如客戶基本資料、AI 建議配方、歷史紀錄等，會在問診頁面合理布局，減少切換頁面的頻率。配色和佈局風格將考慮芳療領域的特點，以柔和且專業的風格呈現。
* **多語支援**：初期以繁體中文介面為主（符合臺灣本地使用者需求），視市場需求未來可加入英文等語言選項。
* **裝置相容**：除了Web瀏覽，亦考慮提供**PWA (Progressive Web App)** 支持，使用者可以將系統「添加到主畫面」作為類似App的方式使用，並啟用部分離線功能（例如瀏覽已緩存的客戶資料）。此舉讓系統在沒有開發獨立手機App的情況下，依然對行動使用者友好。
* **列印/檢視優化**：報告的 PDF 生成以及直接列印預覽頁面，均會特別優化樣式，以確保輸出結果的美觀與專業。

### 安全性與法規合規

系統將從Day 1就考慮資料安全與隱私合規，尤其是處理到客戶個人健康相關資訊時：

* **資料傳輸與存儲安全**：所有與伺服器的通訊採用 HTTPS 加密傳輸，防止中途竊聽。後端 Firebase 資料庫透過存取規則確保只有授權用戶才能讀寫相應資料。敏感資訊（如健康紀錄）日後可透過額外加密層存儲或匿名化處理。
* **備份與復原**：利用 Firebase 等雲端服務的自動備份特性，定期備份關鍵資料，確保即使發生意外（設備遺失或資料庫異常）也能復原，保障資料不遺失。
* **法規遵循**：系統的開發將緊貼相關法規要求。例如，在醫療/健康資訊領域，國際有 HIPAA 法規要求符合資料保護與隱私；本地則有《個人資料保護法》等。雖然在 MVP 階段可能不會完整實作這些法規中的所有要求，但我們將確保系統架構**可延展**以滿足這些要求，包括：日誌留存（追蹤誰在何時存取了哪些資料）、資料最小化（僅收集必要資訊）、用戶同意和隱私權政策、帳號刪除與資料可攜性等功能預留。
* **使用者權限**：前述的權限管理確保企業帳號中只有經授權的員工可查看相應客戶的資料，避免未經許可的人員存取。管理員也可定期審核帳號權限，及時移除離職員工的存取權。

### 開發方式與技術架構

為了讓系統盡快上線並驗證市場需求，開發將遵循\*\*MVP (最小可行產品)\*\*模式：

1. **階段一：核心功能實作** – 優先開發最核心的功能模組，包括客戶資料庫、問診紀錄、基本的AI配方建議、帳號登入系統等。確保這些功能在預計的雲端平台（Firebase）上順利運作，並通過初步測試。
2. **階段二：擴充與優化** – 在 MVP 上線後，根據用戶反饋逐步完善系統。例如改善AI建議的準確度（可能需要收集更多案例調整AI模型）、優化介面使用體驗、修正任何使用上的問題等。同時評估將進階功能（如庫存管理、PDF報告、自訂分析報表等）納入開發排程的優先順序。
3. **階段三：進階功能上線** – 陸續推出標籤搜尋優化、精油庫存管理模組、企業帳號後台、高級報表分析等功能。每新增一項主要功能，都會經過測試並提供相應的使用教學，確保用戶能理解並運用。

**技術選型**：前端採用 Vue.js 框架開發，利用其元件化架構提升開發效率與維護性。同時，Vue.js 有大量現成套件（如 Vuetify、Element 等）可供建立友好的UI。後端與資料庫將主要依賴 Firebase 平台，包括：Firebase Authentication（處理登入註冊）、Cloud Firestore 資料庫（儲存客戶與問診資料）、Firebase Storage（存放照片等檔案），以及 Firebase Functions（未來可用於部署 AI 推理服務或其他後端邏輯，如郵件發送、PDF 生成）。這種 Serverless 架構讓開發者無需管理伺服器，並具備良好的延展性及即時同步能力。此外，AI 配方建議部分可能會使用雲端的機器學習服務或第三方 AI 平台（如調用現有的大型語言模型API），搭配向量資料庫實現語意搜尋功能。

## 總結

此芳療問診系統透過數位化手段，讓芳療師能更有效率地管理客戶資訊、追蹤每次療程配方，並運用 AI 技術強化配方建議的多樣性和準確性。在保障資料安全與隱私的前提下，系統將客戶所有重要資訊整合在一處，猶如專業醫療美容系統會將客戶卡片、服務歷程、生日過敏等資料集中管理一般。AI 提供的建議配方則讓芳療師即使面對繁雜資訊，也能快速獲得靈感參考，再結合自身經驗為客戶調製出專屬方案。隨著功能模組（如庫存管理、報表分析等）的逐步完善，以及未來對法規的全面符合，該系統將能滿足個人工作室到企業團隊不同規模的需求，為芳療產業提供一套專業、便捷且安全的數位化解決方案。

**參考來源：**

* Mangomint 醫美管理系統功能介紹（證明專業系統對客戶資料管理與法規遵循的重視）
* Blend Precisely 芳療 AI 輔助說明（說明 AI 可根據客戶歷史給予個人化配方建議）
* Aromascense 精油管理應用介紹（參考精油庫存與配方管理功能的設計）


reCAPTCHA 密鑰
Ucxv61HKoNkz87zGgtIB


sendgrid
R!)2G?+BK-mm]2n